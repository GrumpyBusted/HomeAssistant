- binary_sensor:
    - name: home_smoke_alarm
      unique_id: 6AF43E03-3834-42ED-AA20-292B0AC0D789
      device_class: smoke
      state: >-
        {{ states.binary_sensor |
           selectattr('attributes.device_class', 'equalto', 'smoke') |
           rejectattr('entity_id', 'equalto', 'home_smoke_alarm') |
           selectattr('state', 'equalto', 'on') |
           list | count > 0 }}
      icon: >
        {% if is_state('binary_sensor.home_smoke_alarm', 'on') %}
        mdi:fire
        {% else %}
        mdi:fire-off
        {% endif %}
- sensor:
    - name: "Electricity Readings"
      state: >
        {% set f = '/config/data/meter_reading_electricity.json' %}
        {% set content = open(f) %}
        {{ content }}
      attributes:
        parsed: >
          {{ state_attr('sensor.electricity_readings','raw') | default('[]') | from_json }}
